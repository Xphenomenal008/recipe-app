(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}})();const O=document.querySelector(".sidebarbuttons");document.querySelector(".content");let p=document.querySelector(".loading");document.querySelector(".foodimg");let w=document.querySelector(".namefood");document.querySelector(".time");document.querySelector(".serving");document.querySelector(".nameingrde");document.querySelector(".detail");const N=document.getElementById("myimg");document.querySelector(".errorm");const B=document.querySelector(".form");let P=document.querySelector("#input");const y=document.querySelector(".allrecipes"),L=document.querySelector(".h1"),T=document.querySelector(".det1");let D=document.querySelector(".cook");const A=document.querySelector(".before"),F=document.querySelector(".after");let v=document.querySelector(".servings"),k=document.querySelector(".cookt"),C=document.createElement("span"),J=document.querySelector(".plusS"),j=document.querySelector(".minusS");const R=document.querySelector(".bookmark");let a=document.querySelector("#bookmarkIcon");const x=document.querySelector(".bokcointner"),M=document.querySelector(".bc"),K=document.querySelector(".bookBTN"),V=document.querySelector(".dirc");let H="",g=[],n=[],f=JSON.parse(localStorage.getItem("data"))||[],S="",$=async()=>{try{H=window.location.hash.substring(1),p.classList.remove("hidden");let e=`https://forkify-api.herokuapp.com/api/v2/recipes/${H}`,t=await fetch(e),o=await t.json();if(!t.ok)throw new Error(t.status);n=o.data.recipe;let s={id:n.id,title:n.title,imgurl:n.image_url,publisher:n.publisher,ingredients:n.ingredients,source:n.source_url,servings:n.servings,source:n.source_url,cookingtime:n.cooking_time};S=s.id,D.innerHTML=s.publisher,k.innerHTML=`${s.cookingtime}min`,v.innerHTML=`${s.servings}`,V.href=s.source;let i=document.createElement("div");p.classList.add("hidden"),w.innerHTML="";let r=document.createElement("span");N.src=s.imgurl,r.innerText=s.title,w.append(r),T.innerHTML="",s.ingredients.forEach(d=>{let l=document.createElement("span");l.innerHTML=d.quantity||"";let m=document.createElement("span");m.innerHTML=d.description;let q=document.createElement("i");q.classList.add("fa","fa-check","text-orange-400");let h=document.createElement("div");h.classList.add("custom-recipe-size"),h.appendChild(q),h.appendChild(l),h.appendChild(m),i.appendChild(h),i.classList.add("flex","flex-wrap")}),T.appendChild(i),f.some(d=>d.id===n.id)?(a.classList.remove("fa-regular"),a.classList.add("fa-solid")):(a.classList.remove("fa-solid"),a.classList.add("fa-regular")),I()}catch(e){console.error(e),p.classList.add("hidden")}};window.addEventListener("hashchange",$);window.addEventListener("load",$);let G=async e=>{let t=`https://forkify-api.herokuapp.com/api/v2/recipes?search=${e}`;try{p.classList.remove("hidden");let o=await fetch(t),s=await o.json();if(!o.ok)throw new Error(o.status);p.classList.add("hidden"),g=s.data.recipes;let i=E(g);b(i)}catch(o){console.error(o)}};B.addEventListener("submit",e=>{e.preventDefault();let t=P.value;G(t)});let b=e=>{y.innerHTML="",p.classList.remove("hidden"),L.classList.add("hidden"),e.length===0&&L.classList.remove("hidden"),e.forEach(t=>{const o=document.createElement("li"),s=document.createElement("a"),i=document.createElement("figure"),r=document.createElement("img"),c=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div");let m={id:t.id,title:t.title,publisher:t.publisher,imgurl:t.image_url};p.classList.add("hidden"),t.id,L.classList.add("hidden"),s.href=`#${m.id}`,r.src=`${m.imgurl}`,i.appendChild(r),d.innerHTML=`${m.publisher}`,l.innerHTML=`${m.title}`.substring(0,26)+"...",c.appendChild(l),c.appendChild(d),l.classList.add("text-orange-500","lg:font-bold"),s.classList.add("custom-a-size"),c.classList.add("flex-col","text-sm","item-center","text-xs","lg:text-sm"),s.appendChild(i),s.appendChild(c),o.appendChild(s),r.classList.add("custom-img-size"),o.classList.add("custom-recipelist-size"),y.appendChild(o),I()})},u=1;F.addEventListener("click",()=>{u++,u>=6&&(u=1);let e=E(g);b(e)});A.addEventListener("click",()=>{u--,u<=0&&(u=5);let e=E(g);b(e)});let E=e=>{let t=(u-1)*10,o=u*10;return O.classList.remove("hidden"),e.slice(t,o)};const Q=()=>{J.addEventListener("click",()=>{n.servings<8&&(n.servings++,n.cooking_time+=5),C.innerHTML=n.title,k.innerHTML=`${n.cooking_time}min`,v.innerHTML=`${n.servings}`}),j.addEventListener("click",()=>{n.servings>4&&(n.servings--,n.cooking_time-=5),C.innerHTML=n.title,k.innerHTML=`${n.cooking_time}min`,v.innerHTML=`${n.servings}`})};Q();const U=()=>{const e=f.findIndex(t=>t.id===n.id);e===-1?(f.push({...n,bookmarks:!0}),n.bookmarks=!0):(f.splice(e,1),n.bookmarks=!1),_(),n.bookmarks===!0?(a.classList.remove("fa-regular"),a.classList.add("fa-solid")):(a.classList.remove("fa-solid"),a.classList.add("fa-regular"))};R.addEventListener("click",()=>{U(),z(),_()});K.addEventListener("click",e=>{e.stopPropagation(),x.classList.remove("hidden")});window.addEventListener("click",()=>{x.classList.add("hidden")});let z=()=>{M.innerHTML="",f.forEach(e=>{const t=document.createElement("li"),o=document.createElement("a"),s=document.createElement("figure"),i=document.createElement("img"),r=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div");let l={id:e.id,title:e.title,publisher:e.publisher,imgurl:e.image_url};o.href=`#${l.id}`,i.src=`${l.imgurl}`,s.appendChild(i),c.innerHTML=`${l.publisher}`,d.innerHTML=`${l.title}`.substring(0,26)+"...",r.appendChild(d),r.appendChild(c),d.classList.add("text-orange-500","lg:font-bold"),o.classList.add("custom-a-size"),r.classList.add("flex-col","text-sm","item-center","text-xs","lg:text-sm"),o.appendChild(s),o.appendChild(r),t.appendChild(o),i.classList.add("custom-img-size"),t.classList.add("custom-recipelist-size"),M.appendChild(t)})};function _(){localStorage.setItem("data",JSON.stringify(f))}window.addEventListener("load",()=>{f=JSON.parse(localStorage.getItem("data"))||[],z()});function I(){let e=y.querySelectorAll("li");e.length!==0&&S.length!==0&&e.forEach(t=>{t.querySelector("a").href.includes(S)?t.classList.add("custom"):t.classList.remove("custom")})}
